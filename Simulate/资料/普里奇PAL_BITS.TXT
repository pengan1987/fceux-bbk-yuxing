//------------------------------------------------------------------------------

// connection

// input
D0 : NES_D0
D1 : NES_D1
D2 : NES_D2
D3 : NES_D3
D4 : NES_A2
D5 : NES_A1
D6 : DATA_IN
D7 : NC

// output
Q0 : NES_D0
Q1 : NES_D1
Q2 : NES_D2
Q3 : NES_D3
Q4 : NES_D7
Q5 : NES_D6
Q6 : NES_D5
Q7 : NES_D4

//------------------------------------------------------------------------------

// output logic

always@*
begin
	if (~OE_N) begin
		DQ[7:0] = Q[7:0];
	end else begin
		DQ[7:0] = 8'bz;
	end
end

always@(posedge CLK or posedge POR)
begin
	if (POR) begin
		// power on reset
		Q[7:0] = 8'b1;
	end else begin
		Q[7:0] <= q[7:0];
	end
end

//------------------------------------------------------------------------------

q0     0000 1111 2222 3333 4444 5555 6666 7777
L00000 0111 1111 1111 1111 1011 1011 1111 1111* // D0 & !D4 & !D5
L00032 0110 1111 1111 1111 1011 0111 1111 1111* // D0 & !Q0 & !D4 & D5
L00064 1001 1111 1111 1111 1011 0111 1111 1111* // !D0 & Q0 & !D4 & D5
L00096 0111 1111 1111 1111 0111 1011 1111 1111* // D0 & D4 & !D5
L00128 1101 1111 1111 1111 0111 1011 1111 1111* // Q0 & D4 & !D5
L00160 0011 1111 1111 1111 0111 0111 1111 1111*
L00192 0101 1111 1111 1111 0111 0111 1111 1111* // D0 & Q0 & D4 & D5
L00224 0000 0000 0000 0000 0000 0000 0000 0000*

q1     0000 1111 2222 3333 4444 5555 6666 7777
L00256 1111 0111 1111 1111 1011 1011 1111 1111* // D1 & !D4 & !D5
L00288 1111 0110 1111 1111 1011 0111 1111 1111* // D1 & !Q1 & !D4 & D5
L00320 1111 1001 1111 1111 1011 0111 1111 1111* // !D1 & Q1 & !D4 & D5
L00352 1111 0111 1111 1111 0111 1011 1111 1111* // D1 & D4 & !D5
L00384 1111 1101 1111 1111 0111 1011 1111 1111* // Q1 & D4 & !D5
L00416 1011 0101 1111 1111 0111 0111 1111 1111* // !D0 & D1 & Q1 & D4 & D5
L00448 0111 1101 1111 1111 0111 0111 1111 1111* // D0 & Q1 & D4 & D5
L00480 0000 0000 0000 0000 0000 0000 0000 0000*

q2     0000 1111 2222 3333 4444 5555 6666 7777
L00512 1111 1111 0111 1111 1011 1011 1111 1111* // D2 & !D4 & !D5
L00544 1111 1111 0110 1111 1011 0111 1111 1111* // D2 & !Q2 & !D4 & D5
L00576 1111 1111 1001 1111 1011 0111 1111 1111* // !D2 & Q2 & !D4 & D5
L00608 1111 1111 0111 1111 0111 1011 1111 1111* // D2 & D4 & !D5
L00640 1111 1111 1101 1111 0111 1011 1111 1111* // Q2 & D4 & !D5
L00672 1011 1111 0101 1111 0111 0111 1111 1111* // !D0 & D2 & Q2 & D4 & D5
L00704 0111 1111 1101 1111 0111 0111 1111 1111* // D0 & Q2 & D4 & D5
L00736 0000 0000 0000 0000 0000 0000 0000 0000*

q3     0000 1111 2222 3333 4444 5555 6666 7777
L00768 1111 1111 1111 0111 1011 1011 1111 1111* // D3 & !D4 & !D5
L00800 1111 1111 1111 0110 1011 0111 1111 1111* // D3 & !Q3 & !D4 & D5
L00832 1111 1111 1111 1001 1011 0111 1111 1111* // !D3 & Q3 & !D4 & D5
L00864 1111 1111 1111 0111 0111 1011 1111 1111* // D3 & D4 & !D5
L00896 1111 1111 1111 1101 0111 1011 1111 1111* // Q3 & D4 & !D5
L00928 1011 1111 1111 0101 0111 0111 1111 1111* // !D0 & D3 & Q3 & D4 & D5
L00960 0111 1111 1111 1101 0111 0111 1111 1111* // D0 & Q3 & D4 & D5
L00992 0000 0000 0000 0000 0000 0000 0000 0000*

q4     0000 1111 2222 3333 4444 5555 6666 7777
L01024 1111 1111 1111 1111 1001 1011 1111 1111* // !D4 & Q4 & !D5
L01056 1111 1111 1111 0110 1011 0111 1111 1111* // D3 & !Q3 & !D4 & D5
L01088 1111 1111 1111 1001 1011 0111 1111 1111* // !D3 & Q3 & !D4 & D5
L01120 1111 1111 1111 1111 0101 1011 1111 1111* // D4 & Q4 & !D5
L01152 1111 1111 1111 0111 0111 1011 1111 1111* // D3 & D4 & !D5
L01184 0111 1111 1111 1101 0110 0111 1111 1111* // D0 & Q3 & D4 & !Q4 & D5
L01216 0111 1111 1111 1110 0101 0111 1111 1111* // D0 & !Q3 & D4 & Q4 & D5
L01248 1011 1111 1111 1111 0111 0111 0111 1111* // !D0 & D4 & D5 & D6

q5     0000 1111 2222 3333 4444 5555 6666 7777
L01280 1111 1111 1111 1111 1011 1001 1111 1111* // !D4 & !D5 & Q5
L01312 1111 1111 0110 1111 1011 0111 1111 1111* // D2 & !Q2 & !D4 & D5
L01344 1111 1111 1001 1111 1011 0111 1111 1111* // !D2 & Q2 & !D4 & D5
L01376 1111 1111 1111 1111 0111 1001 1111 1111* // D4 & !D5 & Q5
L01408 1111 1111 0111 1111 0111 1011 1111 1111* // D2 & D4 & !D5
L01440 0111 1111 1101 1111 0111 0110 1111 1111* // D0 & Q2 & D4 & D5 & !Q5
L01472 0111 1111 1110 1111 0111 0101 1111 1111* // D0 & !Q2 & D4 & D5 & Q5
L01504 0000 0000 0000 0000 0000 0000 0000 0000*

q6     0000 1111 2222 3333 4444 5555 6666 7777
L01536 1111 1111 1111 1111 1011 1011 1101 1111* // !D4 & !D5 & Q6
L01568 1111 0110 1111 1111 1011 0111 1111 1111* // D1 & !Q1 & !D4 & D5
L01600 1111 1001 1111 1111 1011 0111 1111 1111* // !D1 & Q1 & !D4 & D5
L01632 1111 1111 1111 1111 0111 1011 1101 1111* // D4 & !D5 & Q6
L01664 1111 0111 1111 1111 0111 1011 1111 1111* // D1 & D4 & !D5
L01696 0111 1101 1111 1111 0111 0111 1110 1111* // D0 & Q1 & D4 & D5 & !Q6
L01728 0111 1110 1111 1111 0111 0111 1101 1111* // D0 & !Q1 & D4 & D5 & Q6
L01760 0000 0000 0000 0000 0000 0000 0000 0000*

q7     0000 1111 2222 3333 4444 5555 6666 7777
L01792 1111 1111 1111 1111 1011 1011 1111 1101* // !D4 & !D5 & Q7
L01824 0110 1111 1111 1111 1011 0111 1111 1111* // D0 & !Q0 & !D4 & D5
L01856 1001 1111 1111 1111 1011 0111 1111 1111* // !D0 & Q0 & !D4 & D5
L01888 1111 1111 1111 1111 0111 1011 1111 1101* // D4 & !D5 & Q7
L01920 1111 0111 1111 1111 0111 1011 1111 1111* // D1 & D4 & !D5
L01952 0101 1111 1111 1111 0111 0111 1111 1110* // D0 & Q0 & D4 & D5 & !Q7
L01984 0110 1111 1111 1111 0111 0111 1111 1101* // D0 & !Q0 & D4 & D5 & Q7
L02016 0000 0000 0000 0000 0000 0000 0000 0000*

//------------------------------------------------------------------------------

// config

L02048 11111111* // XOR : Active High output
L02056 0000000000000000000000000000000000000000000000000000000000000000* // User
L02120 00000000* // AC1
L02128 1111111111111111111111111111111111111111111111111111111111111111* // PTD
L02192 01* // SYN, AC0 : Register Mode
